DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'ManagerPro.Models.Account'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '201905220650548_InitialCreate'
BEGIN
    CREATE TABLE [dbo].[AccountLists] (
        [ID] [int] NOT NULL IDENTITY,
        [AccountName] [nvarchar](50) NOT NULL,
        [AccountNum] [nvarchar](50) NOT NULL,
        [AccountPassW] [nvarchar](50) NOT NULL,
        [CreateTime] [datetime] NOT NULL,
        [Note] [nvarchar](max),
        [Urllist_ID] [int],
        [WebList_ID] [int],
        CONSTRAINT [PK_dbo.AccountLists] PRIMARY KEY ([ID])
    )
    CREATE INDEX [IX_Urllist_ID] ON [dbo].[AccountLists]([Urllist_ID])
    CREATE INDEX [IX_WebList_ID] ON [dbo].[AccountLists]([WebList_ID])
    CREATE TABLE [dbo].[Urllists] (
        [ID] [int] NOT NULL IDENTITY,
        [WebSiteID] [int] NOT NULL,
        [WebSiteUrl] [nvarchar](max),
        CONSTRAINT [PK_dbo.Urllists] PRIMARY KEY ([ID])
    )
    CREATE TABLE [dbo].[WebLists] (
        [ID] [int] NOT NULL IDENTITY,
        [Website] [nvarchar](50) NOT NULL,
        [WebsiteUrl] [nvarchar](200) NOT NULL,
        [Note] [nvarchar](max),
        CONSTRAINT [PK_dbo.WebLists] PRIMARY KEY ([ID])
    )
    ALTER TABLE [dbo].[AccountLists] ADD CONSTRAINT [FK_dbo.AccountLists_dbo.Urllists_Urllist_ID] FOREIGN KEY ([Urllist_ID]) REFERENCES [dbo].[Urllists] ([ID])
    ALTER TABLE [dbo].[AccountLists] ADD CONSTRAINT [FK_dbo.AccountLists_dbo.WebLists_WebList_ID] FOREIGN KEY ([WebList_ID]) REFERENCES [dbo].[WebLists] ([ID])
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201905220650548_InitialCreate', N'ManagerPro.Models.Account',  0x1F8B0800000000000400ED5BDB6EE336107D2FD07F10F4D416592BCEA2401BD8BB489DA46B3437C4C96EDF025AA21DA212E58A54EAA0E897F5A19FD45FE850178AA22859F22DE962B12F6B5ECE0CE7C6E168F2EFDFFF0CDE2F03DF7AC21123211DDAFDDEA16D61EA861EA1F3A11DF3D99B1FECF7EFBEFE6A70E6054BEB63BEEEAD58073B291BDA8F9C2F8E1D87B98F3840AC1710370A5938E33D370C1CE485CED1E1E18F4EBFEF6080B001CBB206B731E524C0C90FF8390AA98B173C46FE65E8619F65E330334950AD2B1460B6402E1EDA9788A2398E6EA2B0972EB6AD139F20606482FD996D214A438E38B0797CCFF08447219D4F163080FCBBE705867533E4339CB17F5C2C6F7B92C3237112A7D89843B931E361D011B0FF36138DA36F5F4BC0B6141D08EF0C84CC9FC5A913010EED13D70D41F2178471DBD2E91D8FFC48AC3588B8A76C3CB08AE90369116038E2DF81358A7D1E47784871CC23E41F5837F1D427EE2FF8F92EFC0DD3218D7D5F6512D884B9D2000C01F60247FCF916CF32D6C7A7B6E594F739FA46B94DD9939E684CF9DB23DBBA02E268EA636903CAE9273C8CF0CF98E20871ECDD20CE71042A1C7B38916285BA462B9390F8911305DB032FB2415ECB0B4CE7FC71687F0F6E734E96D8CB07323EEE29019F833D3C8AB181CF76B4E3E0A548DF20C63EED9DF828C2A0AB3B5288FC54FEEE087515F226BDC17F5B1D402372859EC83C312F8DDC7DE4FB8913DE623F99678F64914630D5D71EE4BAF3280C6E43BFECC3F9F4C3248C2357F01FD6AFB943D11CF3F62C7EC2D38B362CCA756616B3E94616F3352616074E11C51A639B145597B8966DFA12D38CB4402F13C2F16A92AD6040D65BF6B0D6B6216DB48B6D649BBED8469D5219698C99BB89F919DD666382846817B4777049B436E10F21E359CCEC66C6CAC6173265C1C13AE69CEFDB97490B7A2BF2B7FE6E0C2BD191E74598B1BD3B94621F2F91402AE42189DC3BF9315DC45C648D1B679089F5EC2F409C3016BA24B1FBEAE34EE68D658ECFA867B5482253F6B53C0F0E02E1812C2020003743FBBB8A3C9AD1F3DC4E4197195B19F9B0D7EBEB32504EDB5E08F9ADDF86CD4A9ABA5521E809AE822E5393B58590DAC728A41C11087D654118EE8A7B86B3EB826506A71F41E04D30CF90508A94AAAA304693742AC22823C5A9C2990146DAC20A883FF0B4861129C815088F45C0313152BA6735284501059EF1B9A6AC6C78D5E957673BFF9407D254E37483CB6D51812BF4A35FD5E59377948AD44CB3548CEEDADA6137948AEEA10A9C34B9D642C963B6F4C9A29EE9A405CDBCF0E9D4543E079768B180EB43A9846623D6242D838EDE4CBA17088314C37199A14E28B99594209D826C519B05D2C0E9398998B837D114890B6CE4059565B917D5B8634EA51A64AA1ACB7D34DF23FE9FEE6B2C55EA488514CFE160016485C919B1A2ECC6DD493D1AF92832BCBB46A11F07B4EEEDD6B4BB543954614A13DDF14432678213E39DD1B2029F012F9B698FA856ED543C75BC3D5A9A72A938E9481561E068CAD7EDCCA9189AE6F0BAEDB6B26C19543733EB9A3BA38549D7EEDC8D392B4523154419EE8C953CF60D60C9F8AB51747E4F6CA6E79A5BB0859E6B77EE4CCF690148534C3AD819C7A46356AFE3FF6D3828A59F9B998A9AAA763797C6DD75E2CD4B32AA80CDE59D5528D5EBAE18ED86240B273A989CE88857737FEA736BA126358E1AD464AE3DAA52BA28797131DC512315D72946F7EF3EE5E4BAEC43C62757CB9CB0D8D021F5138F06735E647A525565D52AFCE628265F12D2921CACC75CF6505A93B9CE4CC143C023496166CC44254DD6BADA1D597F5D6D6423F201DAD646E486EDD988F6C05C530D39CA966D447B4CBF2A1BA93FF26A1BA93CC4F525328AC907B9F6F01E648FE0D57D49955771BAC4B6E0F44FC4132FE2C933E338E88905BDC9EFFEC827585499F20560936486194FBFB6D84787FD23ADB7E9F5F419398C797EFB66A3BD7F002534F7DEA6EF416BF6D928DF88E8138ADC4714553E556CDCC2B365E45287CEB6B0AB0D381EFCE69B36E0E4EC7D13A0E5B72A92B1C9C6DC5AF3A0D942A50C3EA61E5E0EED3F936DC7D6F8D78762E781751D81431E5B87D65F5DE9ABF1AA1BFD62677BFA9DDB633E0F4FAC74A6245436EE4BE960789D7B4F3E1BC1AB6D1FDB0A24D5AE0E2372D2D7B19FC0B25663C61A3ADE4E73C44E74ADF7431855D25F43258676876D1992B99B6107E84AB3C2B6D02BBD086B5FA67A2FC216EC7EB37E83D22BBDEBE7FFBA8F76EB7FA507F7C391F00AE4C3D380F1081E079502C64D44A84B16C8D7CE507D1DB589DC42B212519F39C50B4C859B1A0ED9865C73E940A26B2166951476D476517A8D77ED827825B6505FA57F715B682E116CDD16CCDD27D54FC435C571D31FA634F798A4CF6A088ED310949E86316541B57941A725E34E7D138A89C67D5D73848E2F6DB9BE45C5849F4DAEC62F75A834F7AF98E87C28F5BFBC58878BA685D297CA964D1BA5BD4D7D48AFA47D45338CD247BBFD1DB943734AB5F6058142F9CB3D88558CCC0B0851D0A3D82D8508B9664C67611EAD348EF2255A167389398214089D449CCC90CB61DA859431E9AAFC88FC18969C0553EC8DE975CC21758223E360EA97FA7C45C46BA29F74E094791E5C2F923F77D9C611804D22B2B86BFA534C7C4FF27D5ECDE2EA204428CD927AA14B2E92FBF9B344BA0A694BA04C7CF206B8C3C1C20730764D27E809AFC3DB3DC317788EDCE7BC84590FB25A1165B10F4E099A4728601946B11F7E820D7BC1F2DD7F1EDEA8CAC03A0000 , N'6.2.0-61023')
END

IF @CurrentMigration < '201906090644019_addvhostaccount'
BEGIN
    CREATE TABLE [dbo].[HostAccounts] (
        [HostID] [int] NOT NULL IDENTITY,
        [HostName] [nvarchar](100) NOT NULL,
        [HostAddress] [nvarchar](50) NOT NULL,
        [HostAccountNum] [nvarchar](50) NOT NULL,
        [HostAccountPas] [nvarchar](50) NOT NULL,
        [InputDate] [datetime] NOT NULL,
        [HostNote] [nvarchar](max),
        CONSTRAINT [PK_dbo.HostAccounts] PRIMARY KEY ([HostID])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201906090644019_addvhostaccount', N'ManagerPro.Models.Account',  0x1F8B0800000000000400ED5BDB6EE336107D2FD07F10F4D416592BCEA2401BD8BB489DA46B3437C4C96EDF025AA21DA212E58A54EAA0E897F5A19FD45FE850178AA22859F22DE962B12F6B5ECE0CE7C6E168F2EFDFFF0CDE2F03DF7AC21123211DDAFDDEA16D61EA861EA1F3A11DF3D99B1FECF7EFBEFE6A70E6054BEB63BEEEAD58073B291BDA8F9C2F8E1D87B98F3840AC1710370A5938E33D370C1CE485CED1E1E18F4EBFEF6080B001CBB206B731E524C0C90FF8390AA98B173C46FE65E8619F65E330334950AD2B1460B6402E1EDA9788A2398E6EA2B0972EB6AD139F20606482FD996D214A438E38B0797CCFF08447219D4F163080FCBBE705867533E4339CB17F5C2C6F7B92C3237112A7D89843B931E361D011B0FF36138DA36F5F4BC0B6141D08EF0C84CC9FC5A913010EED13D70D41F2178471DBD2E91D8FFC48AC3588B8A76C3CB08AE90369116038E2DF81358A7D1E47784871CC23E41F5837F1D427EE2FF8F92EFC0DD3218D7D5F6512D884B9D2000C01F60247FCF916CF32D6C7A7B6E594F739FA46B94DD9939E684CF9DB23DBBA02E268EA636903CAE9273C8CF0CF98E20871ECDD20CE71042A1C7B38916285BA462B9390F8911305DB032FB2415ECB0B4CE7FC71687F0F6E734E96D8CB07323EEE29019F833D3C8AB181CF76B4E3E0A548DF20C63EED9DF828C2A0AB3B5288FC54FEEE087515F226BDC17F5B1D402372859EC83C312F8DDC7DE4FB8913DE623F99678F64914630D5D71EE4BAF3280C6E43BFECC3F9F4C3248C2357F01FD6AFB943D11CF3F62C7EC2D38B362CCA756616B3E94616F3352616074E11C51A639B145597B8966DFA12D38CB4402F13C2F16A92AD6040D65BF6B0D6B6216DB48B6D649BBED8469D5219698C99BB89F919DD666382846817B4777049B436E10F21E359CCEC66C6CAC6173265C1C13AE69CEFDB97490B7A2BF2B7FE6E0C2BD191E74598B1BD3B94621F2F91402AE42189DC3BF9315DC45C648D1B679089F5EC2F409C3016BA24B1FBEAE34EE68D658ECFA867B5482253F6B53C0F0E02E1812C2020003743FBBB8A3C9AD1F3DC4E4197195B19F9B0D7EBEB32504EDB5E08F9ADDF86CD4A9ABA5521E809AE822E5393B58590DAC728A41C11087D654118EE8A7B86B3EB826506A71F41E04D30CF90508A94AAAA304693742AC22823C5A9C2990146DAC20A883FF0B4861129C815088F45C0313152BA6735284501059EF1B9A6AC6C78D5E957673BFF9407D254E37483CB6D51812BF4A35FD5E59377948AD44CB3548CEEDADA6137948AEEA10A9C34B9D642C963B6F4C9A29EE9A405CDBCF0E9D4543E079768B180EB43A9846623D6242D838EDE4CBA17088314C37199A14E28B99594209D826C519B05D2C0E9398998B837D114890B6CE4059565B917D5B8634EA51A64AA1ACB7D34DF23FE9FEE6B2C55EA488514CFE160016485C919B1A2ECC6DD493D1AF92832BCBB46A11F07B4EEEDD6B4BB543954614A13DDF14432678213E39DD1B2029F012F9B698FA856ED543C75BC3D5A9A72A938E9481561E068CAD7EDCCA9189AE6F0BAEDB6B26C19543733EB9A3BA38549D7EEDC8D392B4523154419EE8C953CF60D60C9F8AB51747E4F6CA6E79A5BB0859E6B77EE4CCF690148534C3AD819C7A46356AFE3FF6D3828A59F9B998A9AAA763797C6DD75E2CD4B32AA80CDE59D5528D5EBAE18ED86240B273A989CE88857737FEA736BA126358E1AD464AE3DAA52BA28797131DC512315D72946F7EF3EE5E4BAEC43C62757CB9CB0D8D021F5138F06735E647A525565D52AFCE628265F12D2921CACC75CF6505A93B9CE4CC143C023496166CC44254DD6BADA1D597F5D6D6423F201DAD646E486EDD988F6C05C530D39CA966D447B4CBF2A1BA93FF26A1BA93CC4F525328AC907B9F6F01E648FE0D57D49955771BAC4B6E0F44FC4132FE2C933E338E88905BDC9EFFEC827585499F20560936486194FBFB6D84787FD23ADB7E9F5F419398C797EFB66A3BD7F002534F7DEA6EF416BF6D928DF88E8138ADC4714553E556CDCC2B365E45287CEB6B0AB0D381EFCE69B36E0E4EC7D13A0E5B72A92B1C9C6DC5AF3A0D942A50C3EA61E5E0EED3F936DC7D6F8D78762E781751D81431E5B87D65F5DE9ABF1AA1BFD62677BFA9DDB633E0F4FAC74A6245436EE4BE960789D7B4F3E1BC1AB6D1FDB0A24D5AE0E2372D2D7B19FC0B25663C61A3ADE4E73C44E74ADF7431855D25F43258676876D1992B99B6107E84AB3C2B6D02BBD086B5FA67A2FC216EC7EB37E83D22BBDEBE7FFBA8F76EB7FA507F7C391F00AE4C3D380F1081E079502C64D44A84B16C8D7CE507D1DB589DC42B212519F39C50B4C859B1A0ED9865C73E940A26B2166951476D476517A8D77ED827825B6505FA57F715B682E116CDD16CCDD27D54FC435C571D31FA634F798A4CF6A088ED310949E86316541B57941A725E34E7D138A89C67D5D73848E2F6DB9BE45C5849F4DAEC62F75A834F7AF98E87C28F5BFBC58878BA685D297CA964D1BA5BD4D7D48AFA47D45338CD247BBFD1DB943734AB5F6058142F9CB3D88558CCC0B0851D0A3D82D8508B9664C67611EAD348EF2255A167389398214089D449CCC90CB61DA859431E9AAFC88FC18969C0553EC8DE975CC21758223E360EA97FA7C45C46BA29F74E094791E5C2F923F77D9C611804D22B2B86BFA534C7C4FF27D5ECDE2EA204428CD927AA14B2E92FBF9B344BA0A694BA04C7CF206B8C3C1C20730764D27E809AFC3DB3DC317788EDCE7BC84590FB25A1165B10F4E099A4728601946B11F7E820D7BC1F2DD7F1EDEA8CAC03A0000 , N'6.2.0-61023')
END

IF @CurrentMigration < '201906090702484_addvhostaccountdate'
BEGIN
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201906090702484_addvhostaccountdate', N'ManagerPro.Models.Account',  0x1F8B0800000000000400ED5BDB6EE336107D2FD07F10F4D416592BCEA2401BD8BB489DA46B3437C4C96EDF025AA21DA212E58A54EAA0E897F5A19FD45FE850178AA22859F22DE962B12F6B5ECE0CE7C6E168F2EFDFFF0CDE2F03DF7AC21123211DDAFDDEA16D61EA861EA1F3A11DF3D99B1FECF7EFBEFE6A70E6054BEB63BEEEAD58073B291BDA8F9C2F8E1D87B98F3840AC1710370A5938E33D370C1CE485CED1E1E18F4EBFEF6080B001CBB206B731E524C0C90FF8390AA98B173C46FE65E8619F65E330334950AD2B1460B6402E1EDA9788A2398E6EA2B0972EB6AD139F20606482FD996D214A438E38B0797CCFF08447219D4F163080FCBBE705867533E4339CB17F5C2C6F7B92C3237112A7D89843B931E361D011B0FF36138DA36F5F4BC0B6141D08EF0C84CC9FC5A913010EED13D70D41F2178471DBD2E91D8FFC48AC3588B8A76C3CB08AE90369116038E2DF81358A7D1E47784871CC23E41F5837F1D427EE2FF8F92EFC0DD3218D7D5F6512D884B9D2000C01F60247FCF916CF32D6C7A7B6E594F739FA46B94DD9939E684CF9DB23DBBA02E268EA636903CAE9273C8CF0CF98E20871ECDD20CE71042A1C7B38916285BA462B9390F8911305DB032FB2415ECB0B4CE7FC71687F0F6E734E96D8CB07323EEE29019F833D3C8AB181CF76B4E3E0A548DF20C63EED9DF828C2A0AB3B5288FC54FEEE087515F226BDC17F5B1D402372859EC83C312F8DDC7DE4FB8913DE623F99678F64914630D5D71EE4BAF3280C6E43BFECC3F9F4C3248C2357F01FD6AFB943D11CF3F62C7EC2D38B362CCA756616B3E94616F3352616074E11C51A639B145597B8966DFA12D38CB4402F13C2F16A92AD6040D65BF6B0D6B6216DB48B6D649BBED8469D5219698C99BB89F919DD666382846817B4777049B436E10F21E359CCEC66C6CAC6173265C1C13AE69CEFDB97490B7A2BF2B7FE6E0C2BD191E74598B1BD3B94621F2F91402AE42189DC3BF9315DC45C648D1B679089F5EC2F409C3016BA24B1FBEAE34EE68D658ECFA867B5482253F6B53C0F0E02E1812C2020003743FBBB8A3C9AD1F3DC4E4197195B19F9B0D7EBEB32504EDB5E08F9ADDF86CD4A9ABA5521E809AE822E5393B58590DAC728A41C11087D654118EE8A7B86B3EB826506A71F41E04D30CF90508A94AAAA304693742AC22823C5A9C2990146DAC20A883FF0B4861129C815088F45C0313152BA6735284501059EF1B9A6AC6C78D5E957673BFF9407D254E37483CB6D51812BF4A35FD5E59377948AD44CB3548CEEDADA6137948AEEA10A9C34B9D642C963B6F4C9A29EE9A405CDBCF0E9D4543E079768B180EB43A9846623D6242D838EDE4CBA17088314C37199A14E28B99594209D826C519B05D2C0E9398998B837D114890B6CE4059565B917D5B8634EA51A64AA1ACB7D34DF23FE9FEE6B2C55EA488514CFE160016485C919B1A2ECC6DD493D1AF92832BCBB46A11F07B4EEEDD6B4BB543954614A13DDF14432678213E39DD1B2029F012F9B698FA856ED543C75BC3D5A9A72A938E9481561E068CAD7EDCCA9189AE6F0BAEDB6B26C19543733EB9A3BA38549D7EEDC8D392B4523154419EE8C953CF60D60C9F8AB51747E4F6CA6E79A5BB0859E6B77EE4CCF690148534C3AD819C7A46356AFE3FF6D3828A59F9B998A9AAA763797C6DD75E2CD4B32AA80CDE59D5528D5EBAE18ED86240B273A989CE88857737FEA736BA126358E1AD464AE3DAA52BA28797131DC512315D72946F7EF3EE5E4BAEC43C62757CB9CB0D8D021F5138F06735E647A525565D52AFCE628265F12D2921CACC75CF6505A93B9CE4CC143C023496166CC44254DD6BADA1D597F5D6D6423F201DAD646E486EDD988F6C05C530D39CA966D447B4CBF2A1BA93FF26A1BA93CC4F525328AC907B9F6F01E648FE0D57D49955771BAC4B6E0F44FC4132FE2C933E338E88905BDC9EFFEC827585499F20560936486194FBFB6D84787FD23ADB7E9F5F419398C797EFB66A3BD7F002534F7DEA6EF416BF6D928DF88E8138ADC4714553E556CDCC2B365E45287CEB6B0AB0D381EFCE69B36E0E4EC7D13A0E5B72A92B1C9C6DC5AF3A0D942A50C3EA61E5E0EED3F936DC7D6F8D78762E781751D81431E5B87D65F5DE9ABF1AA1BFD62677BFA9DDB633E0F4FAC74A6245436EE4BE960789D7B4F3E1BC1AB6D1FDB0A24D5AE0E2372D2D7B19FC0B25663C61A3ADE4E73C44E74ADF7431855D25F43258676876D1992B99B6107E84AB3C2B6D02BBD086B5FA67A2FC216EC7EB37E83D22BBDEBE7FFBA8F76EB7FA507F7C391F00AE4C3D380F1081E079502C64D44A84B16C8D7CE507D1DB589DC42B212519F39C50B4C859B1A0ED9865C73E940A26B2166951476D476517A8D77ED827825B6505FA57F715B682E116CDD16CCDD27D54FC435C571D31FA634F798A4CF6A088ED310949E86316541B57941A725E34E7D138A89C67D5D73848E2F6DB9BE45C5849F4DAEC62F75A834F7AF98E87C28F5BFBC58878BA685D297CA964D1BA5BD4D7D48AFA47D45338CD247BBFD1DB943734AB5F6058142F9CB3D88558CCC0B0851D0A3D82D8508B9664C67611EAD348EF2255A167389398214089D449CCC90CB61DA859431E9AAFC88FC18969C0553EC8DE975CC21758223E360EA97FA7C45C46BA29F74E094791E5C2F923F77D9C611804D22B2B86BFA534C7C4FF27D5ECDE2EA204428CD927AA14B2E92FBF9B344BA0A694BA04C7CF206B8C3C1C20730764D27E809AFC3DB3DC317788EDCE7BC84590FB25A1165B10F4E099A4728601946B11F7E820D7BC1F2DD7F1EDEA8CAC03A0000 , N'6.2.0-61023')
END

